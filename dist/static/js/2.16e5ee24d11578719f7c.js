webpackJsonp([2],{S0C0:function(t,e){},SQcp:function(t,e){},dhHz:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("lC5x"),i=a.n(l),s=a("J0Oq"),r=a.n(s),n=a("gyMJ"),o=a("nm5P"),c=a("KHRU"),p={data:function(){return{url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",formInline:{name:"",cardId:"",planStatus:"",projectType:"0"},tableData:[],checkData:[],total:0,pageSize:20,pageNum:1,dialogVisible:!1,programDetails:!1,checkPersonDetails:!1,icon:a("BxgL"),no_icon:a("j7d7"),textarea:"",item:{auditDesc:"",auditStatus:1,projectId:0,projectType:1},projectDetail:"",changeValue:1,checkdetailsData:""}},mixins:[o.a,c.a],mounted:function(){this.plansList()},updated:function(){},methods:{onSubmit:function(){this.pageNum=1,this.plansList(this.formInline.cardId,this.formInline.name)},handlePhoto:function(t){for(var e=0;e<this.$refs.tet.childNodes.length;e++)this.$refs.tet.childNodes[e].style.display="none";this.$refs.tet.childNodes[t].style.display="block"},changeStatus:function(t){this.pageNum=1,this.plansList()},plansList:function(t,e){var a=this;return r()(i.a.mark(function l(){var s;return i.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return e=e||"",t=t||"",l.next=4,n.a.plansList({planStatus:a.formInline.planStatus,recipientsName:e,pageNum:a.pageNum,pageSize:a.pageSize,cardId:t,projectType:a.formInline.projectType});case 4:200===(s=l.sent).code?(a.tableData=s.data.list,a.total=s.data.total):904===s.code&&(a.tableData=[],a.total=1);case 6:case"end":return l.stop()}},l,a)}))()},handleClick:function(t,e,a){0===t?this.checkdetails(e):this.groupsDetails(e,a)},groupsDetails:function(t,e){var a=this;return r()(i.a.mark(function l(){var s;return i.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,n.a.groupsDetails({projectId:t,recipientsId:e});case 2:200===(s=l.sent).code?(a.programDetails=!0,a.item.projectId=t,a.projectDetail=s.data,a.$nextTick(function(){a.$refs.tet.childNodes[0].style.display="block"})):a.$message({type:"warning",message:s.message});case 4:case"end":return l.stop()}},l,a)}))()},checkdetails:function(t){var e=this;return r()(i.a.mark(function a(){var l;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.a.checkdetails(t);case 2:l=a.sent,console.log(l),200===l.code?(e.checkPersonDetails=!0,e.checkdetailsData=l.data):e.$message({type:"warning",message:l.message});case 5:case"end":return a.stop()}},a,e)}))()},submit:function(){this.auditSubmit(this.item)},auditSubmit:function(t){var e=this;return r()(i.a.mark(function a(){var l;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.a.auditSubmit(t);case 2:200===(l=a.sent).code?(e.programDetails=!1,e.plansList(),e.message({message:"审核成功",type:"success"})):e.message({message:l.message,type:"warning"});case 4:case"end":return a.stop()}},a,e)}))()},handleSizeChange:function(t){this.pageSize=t,this.plansList()},handleCurrentChange:function(t){this.pageNum=t,this.plansList()},handleClose:function(){},checking:function(t,e,a){this.payBill(t,e,a)},payBill:function(t,e,a){var l=this;return r()(i.a.mark(function s(){var r;return i.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.a.payBill({planId:a,recipientsId:e,projectType:t});case 2:r=i.sent,l.dialogVisible=!0,200===r.code?l.checkData=r.data:l.checkData=[];case 5:case"end":return i.stop()}},s,l)}))()},recommend:function(t){var e=this;console.log(t),this.$confirm("是否推荐该项目","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"primary"}).then(function(){e.recommendProject(t)}).catch(function(){e.$message({type:"info",message:"已取消推荐"})})},recommendProject:function(t){var e=this;return r()(i.a.mark(function a(){var l;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.a.recommendProject({projectId:t,projectType:1});case 2:l=a.sent,console.log(l),200===l.code?e.$message({type:"success",message:"推荐成功!"}):e.$message({type:"info",message:"已取消推荐"});case 5:case"end":return a.stop()}},a,e)}))()}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"helpFul manageHelp"},[a("div",[a("div",[[a("header",[a("el-form",{staticClass:"demo-form-inline",attrs:{model:t.formInline}},[a("el-form-item",{attrs:{label:"受助人身份证"}},[a("el-input",{attrs:{placeholder:"受助人身份证号码"},model:{value:t.formInline.cardId,callback:function(e){t.$set(t.formInline,"cardId",e)},expression:"formInline.cardId"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"受助人姓名"}},[a("el-input",{attrs:{placeholder:"受助人姓名"},model:{value:t.formInline.name,callback:function(e){t.$set(t.formInline,"name",e)},expression:"formInline.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"帮扶状态"}},[a("el-select",{attrs:{clearable:"",placeholder:"全部"},on:{change:t.changeStatus},model:{value:t.formInline.planStatus,callback:function(e){t.$set(t.formInline,"planStatus",e)},expression:"formInline.planStatus"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"已过期",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"未帮扶",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"帮扶完成",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"帮扶中",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"帮扶暂停",value:"3"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"帮扶类型"}},[a("el-select",{attrs:{clearable:"",placeholder:"项目状态"},on:{change:t.changeStatus},model:{value:t.formInline.projectType,callback:function(e){t.$set(t.formInline,"projectType",e)},expression:"formInline.projectType"}},[a("el-option",{attrs:{label:"个人",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"团体",value:"1"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1)],1)],t._v(" "),[a("section",[a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"projectType",label:"帮扶类型","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.projectType?a("span",[t._v("个人")]):1===e.row.projectType?a("span",[t._v("团体")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"projectTitle",label:"认领项目","min-width":"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"supporterName",label:"认领人","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"supportTime",label:"认领时间","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"recipientsName",label:"受助人","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row.projectType,e.row.projectId,e.row.recipientsId)}}},[t._v(t._s(e.row.recipientsName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"cardId",label:"受助人身份证","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"recipientsCount",label:"缴费状态","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(Array.from({length:e.row.loveValue},function(t,e){return e}),function(l,i){return a("span",{key:i},[a("img",{staticClass:"loveValue",attrs:{src:t.icon,alt:""},on:{click:function(a){return t.checking(e.row.projectType,e.row.recipientsId,e.row.planId)}}})])}),t._v(" "),a("span",t._l(Array.from({length:e.row.totalPeriods-e.row.loveValue},function(t,e){return e}),function(l,i){return a("img",{key:i,staticClass:"loveValue",attrs:{src:t.no_icon,alt:""},on:{click:function(a){return t.checking(e.row.projectType,e.row.recipientsId,e.row.planId)}}})}),0)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"planStatus",label:"帮扶状态","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.planStatus?a("span",[t._v("帮扶中")]):1===e.row.planStatus?a("span",[t._v("帮扶完成")]):2===e.row.planStatus?a("span",[t._v("帮扶中")]):3===e.row.planStatus?a("span",[t._v("帮扶暂停")]):t._e()]}}])})],1)],1)]],2),t._v(" "),[a("footer",[a("div",[a("el-pagination",{attrs:{"current-page":t.pageNum,"page-sizes":[5,10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])]],2),t._v(" "),a("el-dialog",{attrs:{title:"缴费账单",visible:t.dialogVisible,width:"60%"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.handleClose}},[[a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:t.checkData,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"缴费时间","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"缴费状态","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(Array.from({length:e.row.loveValue},function(t,e){return e}),function(e,l){return a("span",{key:l},[a("img",{staticClass:"loveValue",attrs:{src:t.icon,alt:""}})])}),t._v(" "),a("span",t._l(Array.from({length:e.row.totalPeriods-e.row.loveValue},function(t,e){return e}),function(e,l){return a("img",{key:l,staticClass:"loveValue",attrs:{src:t.no_icon,alt:""}})}),0)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"缴费金额(元)","min-width":"120"}})],1)]],2),t._v(" "),a("el-dialog",{staticClass:"details comom",attrs:{visible:t.programDetails,width:"85%",title:"查看详情"},on:{"update:visible":function(e){t.programDetails=e}}},[""!=t.projectDetail?[a("aside",{staticClass:"aside",staticStyle:{"margin-top":"20px"}},[a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("项目标题:")])]),t._v(" "),a("el-col",[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.projectDetail.groupProjectBaseVO.title))])])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("项目介绍:")])]),t._v(" "),a("el-col",[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.projectDetail.groupProjectBaseVO.introduce)+"。")])])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("机构名称:")])]),t._v(" "),a("el-col",[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.projectDetail.organBaseVO.name))])])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("机构负责人:")])]),t._v(" "),a("el-col",[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.projectDetail.organBaseVO.corporation))])])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("机构地址:")])]),t._v(" "),a("el-col",[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.projectDetail.organBaseVO.address))])])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("受助人头像:")])]),t._v(" "),a("el-col",{staticClass:"avatar"},t._l(t.projectDetail.recipientsVOS,function(e,l){return a("div",{key:l,staticClass:"block",class:t.menuIndex===l?"on":"",on:{click:function(e){return t.handlePhoto(l)}}},[a("el-image",{attrs:{src:e.photo,fit:"cover"}})],1)}),0)],1),t._v(" "),a("div",{ref:"tet",staticClass:"info",attrs:{id:"div"}},t._l(t.projectDetail.recipientsVOS,function(e,l){return a("div",{key:l,staticClass:"node"},[a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("基本信息:")])]),t._v(" "),a("el-col",[a("span",{staticStyle:{"margin-right":"0.3rem"}},[t._v(t._s(e.name))]),t._v(" "),a("span",{staticStyle:{"margin-right":"0.3rem"}},[t._v(t._s(1===e.sex?"男":"女"))]),t._v(" "),a("span",{staticStyle:{"margin-right":"0.3rem"}},[t._v(t._s(e.age)+"岁")]),t._v(" "),a("span",{staticStyle:{"margin-right":"0.3rem"}},[t._v(t._s(e.classNumber)+"年级")])])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("爱心状况:")])]),t._v(" "),a("el-col",[a("div",{staticClass:"grid-content bg-purple-light"},[[t._l(Array.from({length:e.loveValue},function(t,e){return e}),function(e,l){return a("span",{key:l},[a("img",{staticClass:"loveValue",attrs:{src:t.icon,alt:""}})])}),t._v(" "),a("span",t._l(Array.from({length:e.totalPeriods-e.loveValue},function(t,e){return e}),function(e,l){return a("img",{key:l,staticClass:"loveValue",attrs:{src:t.no_icon,alt:""}})}),0)]],2)])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("地址:")])]),t._v(" "),a("el-col",[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(e.address))])])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("身份/户口本照片：")])]),t._v(" "),null!=e.photos?a("el-col",{staticClass:"cardId"},[a("div",[a("el-image",{attrs:{src:e.photos[0].urls[0],fit:"cover"},on:{click:function(a){return t.imgUrl(e.photos[0].urls[0])}}})],1),t._v(" "),a("div",[a("el-image",{attrs:{src:e.photos[0].urls[1],fit:"cover"},on:{click:function(a){return t.imgUrl(e.photos[0].urls[1])}}})],1)]):t._e()],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("家庭状况：")])]),t._v(" "),a("el-col",[a("div",{staticStyle:{width:"60%"}},[t._v(t._s(e.family))]),t._v(" "),null!=e.photos?[void 0!=e.photos[1]?a("div",{staticClass:"pic",staticStyle:{display:"flex","margin-top":"0.2rem"}},t._l(e.photos[1].urls,function(e,l){return a("el-image",{key:l,attrs:{src:e,fit:"cover"},on:{click:function(a){return t.imgUrl(e)}}})}),1):t._e()]:t._e()],2)],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("学习情况：")])]),t._v(" "),a("el-col",[a("div",{staticStyle:{width:"60%"}},[t._v(t._s(e.learn))]),t._v(" "),null!=e.photos?[void 0!=e.photos[2]?a("div",{staticClass:"pic",staticStyle:{display:"flex","margin-top":"0.2rem"}},t._l(e.photos[2].urls,function(e,l){return a("el-image",{key:l,attrs:{src:e,fit:"cover"},on:{click:function(a){return t.imgUrl(e)}}})}),1):t._e()]:t._e()],2)],1)],1)}),0)],1)]:t._e()],2),t._v(" "),a("el-dialog",{staticClass:"details personal commom",attrs:{visible:t.checkPersonDetails,width:"85%",title:"项目详情"},on:{"update:visible":function(e){t.checkPersonDetails=e},close:t.handleClose}},[""!=t.checkdetailsData?[a("aside",{staticClass:"aside"},[a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("受助人头像:")])]),t._v(" "),a("el-col",{staticClass:"avatar"},[a("div",{staticClass:"block"},[a("el-image",{attrs:{src:t.checkdetailsData.photo,fit:"cover"},on:{click:function(e){return t.imgUrl(t.checkdetailsData.photo)}}})],1)])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("姓名:")])]),t._v(" "),a("el-col",[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.checkdetailsData.name))])])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("性别:")])]),t._v(" "),a("el-col",[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(1===t.checkdetailsData.sex?"男":"女"))])])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("年龄:")])]),t._v(" "),a("el-col",[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.checkdetailsData.age)+"岁")])])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("年级:")])]),t._v(" "),a("el-col",[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.checkdetailsData.classNumber)+"年级")])])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("身份证号:")])]),t._v(" "),a("el-col",[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.checkdetailsData.cardId))])])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("爱心状况:")])]),t._v(" "),a("el-col",[a("div",{staticClass:"grid-content bg-purple-light"},[[t._l(Array.from({length:t.checkdetailsData.loveValue},function(t,e){return e}),function(e,l){return a("span",{key:l},[a("img",{staticClass:"loveValue",attrs:{src:t.icon,alt:""}})])}),t._v(" "),a("span",t._l(Array.from({length:t.checkdetailsData.totalPeriods-t.checkdetailsData.loveValue},function(t,e){return e}),function(e,l){return a("img",{key:l,staticClass:"loveValue",attrs:{src:t.no_icon,alt:""}})}),0)]],2)])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("地区:")])]),t._v(" "),a("el-col",[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.checkdetailsData.address))])])],1),t._v(" "),a("div",{staticClass:"info"},[a("div",[a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("身份/户口本照片：")])]),t._v(" "),void 0!=t.checkdetailsData.photos[0]?a("el-col",{staticClass:"cardId"},[a("div",[a("el-image",{attrs:{src:t.checkdetailsData.photos[0].urls[0],fit:"cover"},on:{click:function(e){return t.imgUrl(t.checkdetailsData.photos[0].urls[0])}}})],1),t._v(" "),a("div",[a("el-image",{attrs:{src:t.checkdetailsData.photos[0].urls[1],fit:"cover"},on:{click:function(e){return t.imgUrl(t.checkdetailsData.photos[0].urls[1])}}})],1)]):t._e()],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("家庭状况：")])]),t._v(" "),a("el-col",[a("div",{staticStyle:{width:"60%"}},[t._v(t._s(t.checkdetailsData.family))]),t._v(" "),t.checkdetailsData.photos.filter(function(t){return 2===t.type}).length>0?a("div",{staticClass:"pic",staticStyle:{display:"flex","margin-top":"0.2rem"}},t._l(t.checkdetailsData.photos.filter(function(t){return 2===t.type})[0].urls,function(e,l){return a("el-image",{key:l,attrs:{src:e,fit:"cover"},on:{click:function(a){return t.imgUrl(e)}}})}),1):t._e()])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"grid-content bg-purple"},[t._v("学习情况：")])]),t._v(" "),a("el-col",[a("div",{staticStyle:{width:"60%"}},[t._v(t._s(t.checkdetailsData.learn))]),t._v(" "),t.checkdetailsData.photos.filter(function(t){return 3===t.type}).length>0?a("div",{staticClass:"pic",staticStyle:{display:"flex","margin-top":"0.2rem"}},t._l(t.checkdetailsData.photos.filter(function(t){return 3===t.type})[0].urls,function(e,l){return a("el-image",{key:l,attrs:{src:e,fit:"cover"},on:{click:function(a){return t.imgUrl(e)}}})}),1):t._e()])],1)],1)])],1)]:t._e()],2),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.imgStatus,expression:"imgStatus"}],staticClass:"bigImg",on:{click:t.bigImg}},[a("div",[a("img",{attrs:{src:t.imgurl}})])])],1)},staticRenderFns:[]};var d=a("C7Lr")(p,u,!1,function(t){a("SQcp"),a("S0C0")},"data-v-f3083d9e",null);e.default=d.exports}});
//# sourceMappingURL=2.16e5ee24d11578719f7c.js.map